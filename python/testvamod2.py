import markovlv as lv
import time

sx = 0.03
iT = 0.025

a = lv.VAMOD()

print a.iSetTable(0, "US-QX-USRM-2000" , iT)
print a.iSetTable(1, "US-QX-USRF-2000" , iT)

for i in range(100):
    a.dSetSx(0,0,0,i,sx)

print a.iAnalyseToken("x 64")
print a.iAnalyseToken("g 0")
print a.iAnalyseToken("dRiskFree 0.03")
print a.iAnalyseToken("dEE 20000")
print a.iAnalyseToken("dSAA1 0.75")
print a.iAnalyseToken("dSAA2 0.125")
print a.iAnalyseToken("dSAA3 0.125")
print a.iAnalyseToken("dPctTerm 1.1")
print a.iAnalyseToken("dPctAnnuity 0.05")
print a.iAnalyseToken("lSAnnuity 64")
print a.iAnalyseToken("lSLastAnnuity 120")
print a.iAnalyseToken("lSTerm 85")
print a.iAnalyseToken("dPctPremium 0.0117")
print a.iAnalyseToken("NewPerson")
print a.iAnalyseToken("x 65")
print a.iAnalyseToken("g 1")
print a.iAnalyseToken("dRiskFree 0.03")
print a.iAnalyseToken("dEE 5000")
print a.iAnalyseToken("dSAA1 0.75")
print a.iAnalyseToken("dSAA2 0.125")
print a.iAnalyseToken("dSAA3 0.125")
print a.iAnalyseToken("dPctTerm 1.1")
print a.iAnalyseToken("dPctAnnuity 0.05")
print a.iAnalyseToken("lSAnnuity 65")
print a.iAnalyseToken("lSLastAnnuity 120")
print a.iAnalyseToken("lSTerm 85")
print a.iAnalyseToken("dPctPremium 0.0117")
print a.iAnalyseToken("NewPerson")
print a.iAnalyseToken("x 66")
print a.iAnalyseToken("g 0")
print a.iAnalyseToken("dRiskFree 0.03")
print a.iAnalyseToken("dEE 20000")
print a.iAnalyseToken("dSAA1 0.75")
print a.iAnalyseToken("dSAA2 0.125")
print a.iAnalyseToken("dSAA3 0.125")
print a.iAnalyseToken("dPctTerm 1.1")
print a.iAnalyseToken("dPctAnnuity 0.05")
print a.iAnalyseToken("lSAnnuity 66")
print a.iAnalyseToken("lSLastAnnuity 120")
print a.iAnalyseToken("lSTerm 85")
print a.iAnalyseToken("dPctPremium 0.0117")
print a.iAnalyseToken("NewPerson")
print a.iAnalyseToken("x 67")
print a.iAnalyseToken("g 1")
print a.iAnalyseToken("dRiskFree 0.03")
print a.iAnalyseToken("dEE 5000")
print a.iAnalyseToken("dSAA1 0.75")
print a.iAnalyseToken("dSAA2 0.125")
print a.iAnalyseToken("dSAA3 0.125")
print a.iAnalyseToken("dPctTerm 1.1")
print a.iAnalyseToken("dPctAnnuity 0.05")
print a.iAnalyseToken("lSAnnuity 67")
print a.iAnalyseToken("lSLastAnnuity 120")
print a.iAnalyseToken("lSTerm 85")
print a.iAnalyseToken("dPctPremium 0.0117")

b = time.time()
print " 100000 Result %f (%8.1f)" % (a.dGetMeanDK(0,100000),time.time()-b)
print " \n Of which PP %f   Ben %f " % (a.dGetMeanDKPrem(0,10000),a.dGetMeanDKAnnMort(0,10000))
#a.vPrintTex("lltx.tex")

sxx = [0.00, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.10]
for sx in sxx:
    for i in range(100):
        a.dSetSx(0,0,0,i,sx)
    print "sx %6.2f 10000 Result %f" % (sx, a.dGetMeanDK(0,10000))
    print "         of which PP %f   Ben %f " % (a.dGetMeanDKPrem(0,10000),a.dGetMeanDKAnnMort(0,10000))
